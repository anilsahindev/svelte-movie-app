<script>
    import { beforeUpdate } from 'svelte'
    export let title
    export let year
    export let poster = 'https://fillmurray.com/400/300'

    beforeUpdate(() => {
        if (poster === 'N/A') {
            poster = 'https://fillmurray.com/300/400'
        }

    })

</script>
<!-- Search Card -->

<a class="db center mw5 black link dim"
   title="{title}"
   href="/">

    <img class="db ba b--black-10"
         alt="{title} Poster"
         src="{poster}"
    />

    <dl class="mt2 f6 lh-copy">
        <dt class="clip">Title</dt>
        <dd class="ml0 fw9">{title}</dd>
        <dt class="clip">Year</dt>
        <dd class="ml0 gray">{year}</dd>
    </dl>
</a>
<style>

    a {
        border-radius: 4px;
        height: 400px;
        padding: 1rem;
        border: 1px solid rgba(0,0,0, .6);
        margin: 1rem;
    }

    img {
        width: 100%;
        height: 80%;
    }

    .ba {
        border-style: solid;
        border-width: 1px;
    }

    .b--black-10 {
        border-color: rgba(0, 0, 0, .1);
    }

    .db {
        display: block;
    }

    .fw9 {
        font-weight: 900;
    }

    .lh-copy {
        line-height: 1.5;
    }

    .link {
        text-decoration: none;
        transition: color .15s ease-in;
    }

    .link:link, .link:visited {
        transition: color .15s ease-in;
    }

    .link:hover {
        transition: color .15s ease-in;
    }

    .link:active {
        transition: color .15s ease-in;
    }

    .link:focus {
        transition: color .15s ease-in;
        outline: 1px dotted currentColor;
    }

    .mw5 {
        max-width: 16rem;
    }

    .black {
        color: #000;
    }

    .gray {
        color: #777;
    }

    .ml0 {
        margin-left: 0;
    }

    .mt2 {
        margin-top: .5rem;
    }

    .f6 {
        font-size: .875rem;
    }

    .center {
        margin-right: auto;
        margin-left: auto;
    }

    .clip {
        position: fixed !important;
        _position: absolute !important;
        clip: rect(1px 1px 1px 1px);
        clip: rect(1px, 1px, 1px, 1px);
    }

    .dim {
        opacity: 1;
        transition: opacity .15s ease-in;
    }

    .dim:hover, .dim:focus {
        opacity: .5;
        transition: opacity .15s ease-in;
    }

    .dim:active {
        opacity: .8;
        transition: opacity .15s ease-out;
    }
</style>
